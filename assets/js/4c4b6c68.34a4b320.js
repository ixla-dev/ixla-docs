"use strict";(self.webpackChunkixla_docs=self.webpackChunkixla_docs||[]).push([[424],{3905:function(e,t,a){a.d(t,{Zo:function(){return c},kt:function(){return f}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),u=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=u(e.components);return n.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(a),f=r,m=d["".concat(i,".").concat(f)]||d[f]||p[f]||l;return a?n.createElement(m,o(o({ref:t},c),{},{components:a})):n.createElement(m,o({ref:t},c))}));function f(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,o=new Array(l);o[0]=d;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var u=2;u<l;u++)o[u]=a[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},8215:function(e,t,a){a.d(t,{Z:function(){return r}});var n=a(7294);function r(e){var t=e.children,a=e.hidden,r=e.className;return n.createElement("div",{role:"tabpanel",hidden:a,className:r},t)}},9877:function(e,t,a){a.d(t,{Z:function(){return c}});var n=a(7462),r=a(7294),l=a(2389),o=a(1419),s=a(6010),i="tabItem_LplD";function u(e){var t,a,l,u=e.lazy,c=e.block,p=e.defaultValue,d=e.values,f=e.groupId,m=e.className,h=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),v=null!=d?d:h.map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes}})),b=(0,o.lx)(v,(function(e,t){return e.value===t.value}));if(b.length>0)throw new Error('Docusaurus error: Duplicate values "'+b.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var k=null===p?p:null!=(t=null!=p?p:null==(a=h.find((function(e){return e.props.default})))?void 0:a.props.value)?t:null==(l=h[0])?void 0:l.props.value;if(null!==k&&!v.some((function(e){return e.value===k})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+k+'" but none of its children has the corresponding value. Available values are: '+v.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var y=(0,o.UB)(),g=y.tabGroupChoices,w=y.setTabGroupChoices,S=(0,r.useState)(k),T=S[0],O=S[1],N=[],P=(0,o.o5)().blockElementScrollPositionUntilNextRender;if(null!=f){var I=g[f];null!=I&&I!==T&&v.some((function(e){return e.value===I}))&&O(I)}var D=function(e){var t=e.currentTarget,a=N.indexOf(t),n=v[a].value;n!==T&&(P(t),O(n),null!=f&&w(f,n))},E=function(e){var t,a=null;switch(e.key){case"ArrowRight":var n=N.indexOf(e.currentTarget)+1;a=N[n]||N[0];break;case"ArrowLeft":var r=N.indexOf(e.currentTarget)-1;a=N[r]||N[N.length-1]}null==(t=a)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.Z)("tabs",{"tabs--block":c},m)},v.map((function(e){var t=e.value,a=e.label,l=e.attributes;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:T===t?0:-1,"aria-selected":T===t,key:t,ref:function(e){return N.push(e)},onKeyDown:E,onFocus:D,onClick:D},l,{className:(0,s.Z)("tabs__item",i,null==l?void 0:l.className,{"tabs__item--active":T===t})}),null!=a?a:t)}))),u?(0,r.cloneElement)(h.filter((function(e){return e.props.value===T}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},h.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==T})}))))}function c(e){var t=(0,l.Z)();return r.createElement(u,(0,n.Z)({key:String(t)},e))}},6158:function(e,t,a){a.r(t),a.d(t,{assets:function(){return f},contentTitle:function(){return p},default:function(){return v},frontMatter:function(){return c},metadata:function(){return d},toc:function(){return m}});var n=a(7462),r=a(3366),l=(a(7294),a(3905)),o=a(9877),s=a(8215),i=a.p+"assets/images/issuance-d2b93f09e14d487635bc3c88442beec4.png",u=["components"],c={id:"start-issuance",title:"Start Issuance"},p=void 0,d={unversionedId:"setup-and-integration/start-issuance",id:"setup-and-integration/start-issuance",title:"Start Issuance",description:"Issuance can be started from the WebApp or via the Workflow Scheduler API.",source:"@site/docs/setup-and-integration/03-issuing-cards.mdx",sourceDirName:"setup-and-integration",slug:"/setup-and-integration/start-issuance",permalink:"/ixla-docs/docs/setup-and-integration/start-issuance",tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"start-issuance",title:"Start Issuance"},sidebar:"defaultSidebar",previous:{title:"Database Integration",permalink:"/ixla-docs/docs/setup-and-integration/database-integration"}},f={},m=[{value:"Issuance Page",id:"issuance-page",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Workflow",id:"workflow",level:4},{value:"Startup Options",id:"startup-options",level:3},{value:"Disable Laser Source",id:"disable-laser-source",level:4},{value:"Stop after N cards",id:"stop-after-n-cards",level:4},{value:"Skip Entity Updates",id:"skip-entity-updates",level:4},{value:"Scheduler API",id:"scheduler-api",level:3},{value:"Task Allocation Strategy",id:"task-allocation-strategy",level:4},{value:"Disable Red Pointer",id:"disable-red-pointer",level:4}],h={toc:m};function v(e){var t=e.components,a=(0,r.Z)(e,u);return(0,l.kt)("wrapper",(0,n.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"Issuance can be started from the ",(0,l.kt)("a",{parentName:"p",href:"#issuance-page"},"WebApp")," or via the ",(0,l.kt)("a",{parentName:"p",href:"#scheduler-api"},"Workflow Scheduler API"),"."),(0,l.kt)("h3",{id:"issuance-page"},"Issuance Page"),(0,l.kt)("div",null,(0,l.kt)("img",{src:i,className:"flex-item"})),(0,l.kt)("br",null),(0,l.kt)("p",null,"The system will require us to specify: "),(0,l.kt)("h3",{id:"configuration"},"Configuration"),(0,l.kt)("p",null,"This are required parameters. Define what the machine will print (the ",(0,l.kt)("strong",{parentName:"p"},"Job Template"),") and how it will do it (the ",(0,l.kt)("strong",{parentName:"p"},"Workflow"),")"),(0,l.kt)("h4",{id:"workflow"},"Workflow"),(0,l.kt)("p",null,"The workflow defines the sequence of actions that will be performed by the machine for each card that it will process.\nOn almost every system this option will not be selectable, and can be left with default value (which varies from system to system). "),(0,l.kt)("h3",{id:"startup-options"},"Startup Options"),(0,l.kt)("p",null,"Startup options let us set some parameters that will change the behavior of the system at runtime. This is usefull for testing before going on production. Available options are: "),(0,l.kt)("h4",{id:"disable-laser-source"},"Disable Laser Source"),(0,l.kt)("p",null,"Turns off the laser source. The red spot will be visible and the scan head will move as if it was marking. We can use this option to test/validaste our setup. "),(0,l.kt)("h4",{id:"stop-after-n-cards"},"Stop after N cards"),(0,l.kt)("p",null,"Tells the system to automatically stop after the specified number of cards where processed."),(0,l.kt)("h4",{id:"skip-entity-updates"},"Skip Entity Updates"),(0,l.kt)("p",null,"Bypasses the database. Templates are printed without replacing entities values"),(0,l.kt)("h3",{id:"scheduler-api"},"Scheduler API"),(0,l.kt)("p",null,"The webapp uses the scheduler API to start/stop issuance.\nThe ",(0,l.kt)("em",{parentName:"p"},"StartWorkflowScheduler")," endpoint accepts a ",(0,l.kt)("em",{parentName:"p"},"WorkflowSchedulerStartupParamsDto")," object as a pamameter.\nThe first 6 fields of ",(0,l.kt)("em",{parentName:"p"},"WorkflowSchedulerStartupParamsDto")," map 1-to-1 with what we've seen in the form above. "),(0,l.kt)("h4",{id:"task-allocation-strategy"},"Task Allocation Strategy"),(0,l.kt)("p",null,"Tells the system which strategy it should use to balance mark jobs across available laser modules. "),(0,l.kt)("h4",{id:"disable-red-pointer"},"Disable Red Pointer"),(0,l.kt)("p",null,"Turns off the red-pointer. This is usefull for testeing workflows that require XY Auto-Positioning with the\nlaser source disabled. "),(0,l.kt)(o.Z,{groupId:"code",mdxType:"Tabs"},(0,l.kt)(s.Z,{value:"ts",label:"Angular",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-typescript"},"  import { WorkflowSchedulerService } from '@ixla/iws-sdk-angular';\n  ...\n  constructor(private readonly scheduler: WorkflowSchedulerService) {}\n  ... \n  const schedulerState = await this.scheduler.StartWorkflowScheduler({\n    workflowSchedulerStartupParamsDto: {\n      WorkflowTypeName : \"BOX\",\n      StopAfter : -1, \n      JobTemplateId : 1,\n      DryRun : false, \n      TaskAllocationStrategy : null, \n      NoReset : false,\n      DisableRedPointer : false,\n      SkipEntityUpdates : false\n    }\n  }).toPromise();\n  ...\n"))),(0,l.kt)(s.Z,{value:"csharp",label:"C#",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-csharp"},'  using IXLA.Iws.Sdk;\n  ...\n  private readonly WorkflowSchedulerService _scheduler; \n  ... \n  WorkflowSchedulerStateDto schedulerSate = await _scheduler.StartWorkflowScheduler(new WorkflowSchedulerStartupParamsDto {\n    WorkflowTypeName = "BOX",\n    StopAfter = -1, \n    JobTemplateId = 1,\n    DryRun = false, \n    TaskAllocationStrategy = null, \n    NoReset = false,\n    DisableRedPointer = false,\n    SkipEntityUpdates = false\n  });\n  ...\n'))),(0,l.kt)(s.Z,{value:"http",label:"HTTP",mdxType:"TabItem"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-http"},'POST /iws/v1/workflow-scheduler/start\nHost: $BOX_IP_ADDRESS:5000\nAccept: application/json\n\n{\n    "jobTemplateId": 1,\n    "workflowTypeName": "BOX",\n    "dryRun": true,\n    "stopAfter" : -1,\n    "skipEntityUpdates": true,\n    "noReset": false,\n    "taskAllocationStrategy": "batch", \n    "disableRedPointer": false\n}\n')),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response Body"',title:'"Response','Body"':!0},'{\n  "status": "Starting",\n  "queueSize": 0,\n  "errorDetails": "string",\n  "lastLoadedItemId": 0,\n  "upTimeSeconds": 0,\n  "currentJobTemplate": {\n      ...\n  }\n}\n')))))}v.isMDXComponent=!0}}]);